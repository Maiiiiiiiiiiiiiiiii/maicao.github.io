<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Suzhou Sensory Museum</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inconsolata:wght@300;600&family=Nunito&display=swap');
    
    body {
      font-family: sans-serif;
      padding: 0;
      margin: 0;
      background: white;
    }
    
    .container {
      position: relative;
      width: 1024px;
      height: 768px;
      overflow-y: scroll;
      background: #FFFFFF;
      margin: 0 auto;
    }
    
    .title {
      position: absolute;
      width: 126px;
      height: 114px;
      left: 54px;
      top: 80px;
      font-family: 'Inconsolata';
      font-style: normal;
      font-weight: 600;
      font-size: 36px;
      line-height: 38px;
      color: #000000;
    }
    
    .location-label {
      position: absolute;
      width: 52px;
      height: 14px;
      left: 59px;
      top: 230px;
      font-family: 'Inconsolata';
      font-style: normal;
      font-weight: 600;
      font-size: 13px;
      line-height: 14px;
      color: #000000;
    }
    
    .date-label {
      position: absolute;
      width: 26px;
      height: 14px;
      left: 59px;
      top: 250px;
      font-family: 'Inconsolata';
      font-style: normal;
      font-weight: 600;
      font-size: 13px;
      line-height: 14px;
      color: #000000;
    }
    
    .tags-label {
      position: absolute;
      width: 26px;
      height: 14px;
      left: 59px;
      top: 309px;
      font-family: 'Inconsolata';
      font-style: normal;
      font-weight: 600;
      font-size: 13px;
      line-height: 14px;
      color: #000000;
    }
    
    .author-label {
      position: absolute;
      width: 39px;
      height: 14px;
      left: 59px;
      top: 269px;
      font-family: 'Inconsolata';
      font-style: normal;
      font-weight: 600;
      font-size: 13px;
      line-height: 14px;
      color: #000000;
    }
    
    .location {
      position: absolute;
      width: 39px;
      height: 14px;
      left: 315px;
      top: 230px;
      font-family: 'Inconsolata';
      font-style: normal;
      font-weight: 300;
      font-size: 13px;
      line-height: 14px;
      text-align: right;
      color: #000000;
    }
    
    .date {
      position: absolute;
      width: 98px;
      height: 14px;
      left: 256px;
      top: 250px;
      font-family: 'Inconsolata';
      font-style: normal;
      font-weight: 300;
      font-size: 13px;
      line-height: 14px;
      text-align: right;
      color: #000000;
    }
    
    .tags1 {
      position: absolute;
      width: 221px;
      height: 14px;
      left: 133px;
      top: 309px;
      font-family: 'Inconsolata';
      font-style: normal;
      font-weight: 300;
      font-size: 13px;
      line-height: 14px;
      text-align: right;
      color: #000000;
    }
    
    .tags2 {
      position: absolute;
      width: 195px;
      height: 14px;
      left: 159px;
      top: 330px;
      font-family: 'Inconsolata';
      font-style: normal;
      font-weight: 300;
      font-size: 13px;
      line-height: 14px;
      text-align: right;
      color: #000000;
    }
    
    .author {
      position: absolute;
      width: 46px;
      height: 14px;
      left: 308px;
      top: 269px;
      font-family: 'Inconsolata';
      font-style: normal;
      font-weight: 300;
      font-size: 13px;
      line-height: 14px;
      text-align: right;
      color: #000000;
    }
    
    .line1, .line2, .line3, .line4, .line5, .line6, .line7 {
      position: absolute;
      width: 300px;
      height: 0px;
      left: 54px;
      border: 0.5px solid #000000;
    }
    
    .line1 { top: 227px; }
    .line2 { top: 247px; }
    .line3 { top: 247px; }
    .line4 { top: 267px; }
    .line5 { top: 287px; }
    .line6 { top: 307px; }
    .line7 { top: 347px; }
    
    .tutor-label {
      position: absolute;
      width: 33px;
      height: 14px;
      left: 59px;
      top: 289px;
      font-family: 'Inconsolata';
      font-style: normal;
      font-weight: 600;
      font-size: 13px;
      line-height: 14px;
      color: #000000;
    }
    
    .tutor {
      position: absolute;
      width: 72px;
      height: 14px;
      left: 282px;
      top: 289px;
      font-family: 'Inconsolata';
      font-style: normal;
      font-weight: 300;
      font-size: 13px;
      line-height: 14px;
      text-align: right;
      color: #000000;
    }
    
    .description-chinese {
      position: absolute;
      width: 433px;
      height: 207px;
      left: 54px;
      top: 397px;
      font-family: 'Nunito';
      font-style: normal;
      font-weight: 400;
      font-size: 13px;
      line-height: 19px;
      text-align: justify;
      letter-spacing: 0.05em;
      color: #000000;
    }
    
    .description-english {
      position: absolute;
      width: 433px;
      height: 215px;
      left: 537px;
      top: 397px;
      font-family: 'Nunito';
      font-style: normal;
      font-weight: 400;
      font-size: 13px;
      line-height: 18px;
      text-align: justify;
      color: #000000;
    }

    /* 图片查看器样式 */
    .pdf-container {
      position: absolute;
      width: 916px;
      height: 648px;
      left: 50%;
      transform: translateX(-50%);
      top: 800px;
      border: 1px solid #ccc;
      overflow: hidden;
      margin-bottom: 100px;
    }

    .image-viewer-wrapper {
      position: relative;
      width: 100%;
      height: 100%;
      overflow: auto;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .pdf-image {
      max-width: 100%;
      max-height: 100%;
      object-fit: contain;
      transition: transform 0.1s ease;
      transform-origin: center center;
    }

    .pdf-controls {
      position: absolute;
      bottom: 10px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 10px;
      z-index: 10;
      background: rgba(255, 255, 255, 0.9);
      padding: 8px 15px;
      border-radius: 5px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    .pdf-controls button {
      padding: 5px 10px;
      cursor: pointer;
      background: #f0f0f0;
      border: 1px solid #ccc;
      border-radius: 3px;
      font-family: 'Inconsolata';
      font-size: 12px;
    }

    .pdf-controls button:hover {
      background: #e0e0e0;
    }

    .pdf-page-info {
      display: flex;
      align-items: center;
      gap: 5px;
      font-family: 'Inconsolata';
      font-size: 13px;
    }

    .pdf-page-input {
      width: 40px;
      padding: 3px;
      text-align: center;
      font-family: 'Inconsolata';
      border: 1px solid #ccc;
      border-radius: 3px;
    }

    .image-viewer-wrapper.grabbing {
      cursor: grabbing;
    }

    .image-viewer-wrapper:hover {
      cursor: grab;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="title">Suzhou Sensory Museum</div>
    
    <div class="location-label">Location</div>
    <div class="date-label">Date</div>
    <div class="tags-label">Tags</div>
    <div class="author-label">Author</div>
    <div class="tutor-label">Tutor</div>
    
    <div class="location">Suzhou</div>
    <div class="date">2021.03-2021.05</div>
    <div class="tags1">Preservation / Adaptive Project,</div>
    <div class="tags2">Museum Design, Interior Design</div>
    <div class="author">Mai Cao</div>
    <div class="tutor">Zhihong Liu</div>
    
    <div class="line1"></div>
    <div class="line2"></div>
    <div class="line3"></div>
    <div class="line4"></div>
    <div class="line5"></div>
    <div class="line6"></div>
    <div class="line7"></div>
    
    <div class="description-chinese">
      这是我参与的第一个改造类项目。由于当时处于疫情期间，无法对实际场地进行详细测量，因此本项目侧重于提出一种改造的概念与策略。项目选址于苏州，场地原为一组年久失修的苏式民居。功能由我自由设定，我将其改造为一座"感官博物馆"。原建筑由几座分散的民居构成，我通过引入交通核与连续屋顶的方式，将这些体块整合为一个有机整体。每一个原有建筑体量分别被转化为代表五种感官的展厅空间。
    </div>
    
    <div class="description-english">
      This was the first renovation-oriented project I worked on. Due to restrictions during the pandemic, I was unable to conduct detailed on-site measurements, so the focus shifted toward developing a conceptual approach to adaptive reuse. The site, located in Suzhou, consisted of a group of dilapidated traditional Suzhou residences. With full freedom to define the program, I decided to transform the site into a "Museum of the Senses." The original buildings were scattered individual dwellings. I unified them into a coherent whole by introducing a central circulation core and a continuous roof structure. Each original volume was reinterpreted as an exhibition space representing one of the five human senses.
    </div>

    <!-- 图片查看器部分 -->
    <div class="pdf-container">
      <div class="image-viewer-wrapper" id="image-viewer-wrapper">
        <img id="pdf-image" class="pdf-image" src="" alt="PDF Page">
      </div>
      <div class="pdf-controls">
        <button id="prev-page">Previous</button>
        <span class="pdf-page-info">
          Page <input type="number" id="page-input" class="pdf-page-input" min="1" value="1"> 
          of <span id="page-count">8</span>
        </span>
        <button id="next-page">Next</button>
        <button id="zoom-in">Zoom In</button>
        <button id="zoom-out">Zoom Out</button>
        <button id="fit-page">Fit Page</button>
      </div>
    </div>
  </div>

  <script>
    // 图片查看器变量
    const totalPages = 8; // 总页数（根据您的图片文件数量）
    let currentPage = 1;
    let scale = 1.0;
    let isDragging = false;
    let startPos = { x: 0, y: 0 };
    let currentTranslate = { x: 0, y: 0 };
    const maxScale = 3.0;
    const minScale = 0.5;
    
    const imageElement = document.getElementById('pdf-image');
    const wrapper = document.getElementById('image-viewer-wrapper');
    const pageCountElement = document.getElementById('page-count');
    const pageInput = document.getElementById('page-input');
    
    // 初始化查看器
    function initViewer() {
      pageCountElement.textContent = totalPages;
      pageInput.max = totalPages;
      loadPage(1);
    }
    
    // 加载特定页面
    function loadPage(pageNum) {
      if (pageNum < 1 || pageNum > totalPages) return;
      
      currentPage = pageNum;
      // 使用您的文件名格式：a-2_Page_1.jpg 到 a-2_Page_8.jpg
      const pageStr = pageNum.toString();
      imageElement.src = `../assets/doc/a-2/a-2_Page_${pageStr}.jpg`;
      pageInput.value = pageNum;
      
      // 切换页面时重置缩放和位置
      scale = 1.0;
      currentTranslate = { x: 0, y: 0 };
      updateImageTransform();
    }
    
    // 更新图片变换(缩放+位置)
    function updateImageTransform() {
      imageElement.style.transform = `translate(${currentTranslate.x}px, ${currentTranslate.y}px) scale(${scale})`;
    }
    
    // 适应页面大小
    function fitToPage() {
      const containerWidth = wrapper.offsetWidth;
      const containerHeight = wrapper.offsetHeight;
      
      imageElement.onload = function() {
        const imgWidth = this.naturalWidth;
        const imgHeight = this.naturalHeight;
        
        const widthRatio = containerWidth / imgWidth;
        const heightRatio = containerHeight / imgHeight;
        
        scale = Math.min(widthRatio, heightRatio);
        currentTranslate = { x: 0, y: 0 };
        updateImageTransform();
      };
      
      // 如果图片已加载，立即触发onload
      if (imageElement.complete) {
        imageElement.onload();
      }
    }
    
    // 放大
    function zoomIn() {
      if (scale >= maxScale) return;
      scale *= 1.2;
      updateImageTransform();
    }
    
    // 缩小
    function zoomOut() {
      if (scale <= minScale) return;
      scale /= 1.2;
      updateImageTransform();
    }
    
    // 上一页
    function prevPage() {
      loadPage(currentPage - 1);
    }
    
    // 下一页
    function nextPage() {
      loadPage(currentPage + 1);
    }
    
    // 处理页码输入变化
    function handlePageInput() {
      let newPage = parseInt(pageInput.value);
      
      if (isNaN(newPage)) {
        newPage = currentPage;
      } else if (newPage < 1) {
        newPage = 1;
      } else if (newPage > totalPages) {
        newPage = totalPages;
      }
      
      pageInput.value = newPage;
      
      if (newPage !== currentPage) {
        loadPage(newPage);
      }
    }
    
    // 鼠标滚轮缩放
    function handleWheel(e) {
      e.preventDefault();
      
      // 获取鼠标相对于图片的位置
      const rect = imageElement.getBoundingClientRect();
      const mouseX = e.clientX - rect.left;
      const mouseY = e.clientY - rect.top;
      
      // 计算缩放因子
      const delta = -e.deltaY;
      let scaleFactor = 1.1;
      if (delta < 0) {
        scaleFactor = 1 / scaleFactor;
      }
      
      // 计算带限制的新缩放比例
      const newScale = scale * scaleFactor;
      if (newScale < minScale || newScale > maxScale) return;
      
      // 计算图片坐标中的鼠标位置
      const imgX = (mouseX - currentTranslate.x) / scale;
      const imgY = (mouseY - currentTranslate.y) / scale;
      
      // 应用新缩放比例
      scale = newScale;
      
      // 计算新平移以保持鼠标位置稳定
      currentTranslate.x = mouseX - imgX * scale;
      currentTranslate.y = mouseY - imgY * scale;
      
      updateImageTransform();
    }
    
    // 拖拽功能
    function startDrag(e) {
      isDragging = true;
      startPos = {
        x: e.clientX - currentTranslate.x,
        y: e.clientY - currentTranslate.y
      };
      wrapper.style.cursor = 'grabbing';
      e.preventDefault();
    }
    
    function drag(e) {
      if (!isDragging) return;
      
      currentTranslate.x = e.clientX - startPos.x;
      currentTranslate.y = e.clientY - startPos.y;
      
      updateImageTransform();
    }
    
    function endDrag() {
      isDragging = false;
      wrapper.style.cursor = 'grab';
    }
    
    // 事件监听器
    document.getElementById('prev-page').addEventListener('click', prevPage);
    document.getElementById('next-page').addEventListener('click', nextPage);
    document.getElementById('zoom-in').addEventListener('click', zoomIn);
    document.getElementById('zoom-out').addEventListener('click', zoomOut);
    document.getElementById('fit-page').addEventListener('click', fitToPage);
    pageInput.addEventListener('change', handlePageInput);
    
    // 鼠标拖拽事件
    wrapper.addEventListener('mousedown', startDrag);
    window.addEventListener('mousemove', drag);
    window.addEventListener('mouseup', endDrag);
    
    // 鼠标滚轮缩放事件
    wrapper.addEventListener('wheel', handleWheel, { passive: false });
    
    // 页面加载时初始化查看器
    window.addEventListener('load', initViewer);
  </script>
</body>
</html>
