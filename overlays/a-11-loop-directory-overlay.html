<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Loop</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inconsolata:wght@300;600&family=Nunito&display=swap');
    
    body {
      font-family: sans-serif;
      padding: 0;
      margin: 0;
      background: white;
    }
    
    .container {
      position: relative;
      width: 1024px;
      height: 768px;
      overflow-y: scroll;
      background: #FFFFFF;
      margin: 0 auto;
    }
    
    .title {
      position: absolute;
      width: 72px;
      height: 38px;
      left: 54px;
      top: 80px;
      font-family: 'Inconsolata';
      font-style: normal;
      font-weight: 600;
      font-size: 36px;
      line-height: 38px;
      color: #000000;
    }
    
    .location-label {
      position: absolute;
      width: 52px;
      height: 14px;
      left: 59px;
      top: 230px;
      font-family: 'Inconsolata';
      font-style: normal;
      font-weight: 600;
      font-size: 13px;
      line-height: 14px;
      color: #000000;
    }
    
    .date-label {
      position: absolute;
      width: 26px;
      height: 14px;
      left: 59px;
      top: 250px;
      font-family: 'Inconsolata';
      font-style: normal;
      font-weight: 600;
      font-size: 13px;
      line-height: 14px;
      color: #000000;
    }
    
    .tags-label {
      position: absolute;
      width: 26px;
      height: 14px;
      left: 59px;
      top: 329px;
      font-family: 'Inconsolata';
      font-style: normal;
      font-weight: 600;
      font-size: 13px;
      line-height: 14px;
      color: #000000;
    }
    
    .author-label {
      position: absolute;
      width: 39px;
      height: 14px;
      left: 59px;
      top: 269px;
      font-family: 'Inconsolata';
      font-style: normal;
      font-weight: 600;
      font-size: 13px;
      line-height: 14px;
      color: #000000;
    }
    
    .tutor-label {
      position: absolute;
      width: 33px;
      height: 14px;
      left: 59px;
      top: 289px;
      font-family: 'Inconsolata';
      font-style: normal;
      font-weight: 600;
      font-size: 13px;
      line-height: 14px;
      color: #000000;
    }
    
    .location {
      position: absolute;
      width: 117px;
      height: 14px;
      left: 237px;
      top: 230px;
      font-family: 'Inconsolata';
      font-style: normal;
      font-weight: 300;
      font-size: 13px;
      line-height: 14px;
      text-align: right;
      color: #000000;
    }
    
    .date {
      position: absolute;
      width: 98px;
      height: 14px;
      left: 256px;
      top: 250px;
      font-family: 'Inconsolata';
      font-style: normal;
      font-weight: 300;
      font-size: 13px;
      line-height: 14px;
      text-align: right;
      color: #000000;
    }
    
    .tags1 {
      position: absolute;
      width: 189px;
      height: 14px;
      left: 165px;
      top: 329px;
      font-family: 'Inconsolata';
      font-style: normal;
      font-weight: 300;
      font-size: 13px;
      line-height: 14px;
      text-align: right;
      color: #000000;
    }
    
    .tags2 {
      position: absolute;
      width: 182px;
      height: 14px;
      left: 172px;
      top: 350px;
      font-family: 'Inconsolata';
      font-style: normal;
      font-weight: 300;
      font-size: 13px;
      line-height: 14px;
      text-align: right;
      color: #000000;
    }
    
    .author {
      position: absolute;
      width: 124px;
      height: 14px;
      left: 230px;
      top: 269px;
      font-family: 'Inconsolata';
      font-style: normal;
      font-weight: 300;
      font-size: 13px;
      line-height: 14px;
      text-align: right;
      color: #000000;
    }
    
    .tutor1 {
      position: absolute;
      width: 221px;
      height: 14px;
      left: 133px;
      top: 289px;
      font-family: 'Inconsolata';
      font-style: normal;
      font-weight: 300;
      font-size: 13px;
      line-height: 14px;
      text-align: right;
      color: #000000;
    }
    
    .tutor2 {
      position: absolute;
      width: 182px;
      height: 14px;
      left: 172px;
      top: 309px;
      font-family: 'Inconsolata';
      font-style: normal;
      font-weight: 300;
      font-size: 13px;
      line-height: 14px;
      text-align: right;
      color: #000000;
    }
    
    .line1, .line2, .line3, .line4, .line5, .line6, .line7 {
      position: absolute;
      width: 300px;
      height: 0px;
      left: 54px;
      border: 0.5px solid #000000;
    }
    
    .line1 { top: 227px; }
    .line2 { top: 247px; }
    .line3 { top: 247px; }
    .line4 { top: 267px; }
    .line5 { top: 287px; }
    .line6 { top: 327px; }
    .line7 { top: 367px; }
    
    .description-chinese {
      position: absolute;
      width: 433px;
      height: 503px;
      left: 54px;
      top: 417px;
      font-family: 'Nunito';
      font-style: normal;
      font-weight: 400;
      font-size: 13px;
      line-height: 19px;
      text-align: justify;
      letter-spacing: 0.05em;
      color: #000000;
    }
    
    .description-english {
      position: absolute;
      width: 433px;
      height: 503px;
      left: 537px;
      top: 417px;
      font-family: 'Nunito';
      font-style: normal;
      font-weight: 400;
      font-size: 13px;
      line-height: 18px;
      text-align: justify;
      color: #000000;
    }

    /* Image Viewer Styles */
    .pdf-container {
      position: absolute;
      width: 916px;
      height: 648px;
      left: 50%;
      transform: translateX(-50%);
      top: 950px;
      border: 1px solid #ccc;
      overflow: hidden;
      margin-bottom: 100px;
    }

    .image-viewer-wrapper {
      position: relative;
      width: 100%;
      height: 100%;
      overflow: auto;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .pdf-image {
      max-width: 100%;
      max-height: 100%;
      object-fit: contain;
      transition: transform 0.1s ease;
      transform-origin: center center;
    }

    .pdf-controls {
      position: absolute;
      bottom: 10px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 10px;
      z-index: 10;
      background: rgba(255, 255, 255, 0.9);
      padding: 8px 15px;
      border-radius: 5px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    .pdf-controls button {
      padding: 5px 10px;
      cursor: pointer;
      background: #f0f0f0;
      border: 1px solid #ccc;
      border-radius: 3px;
      font-family: 'Inconsolata';
      font-size: 12px;
    }

    .pdf-controls button:hover {
      background: #e0e0e0;
    }

    .pdf-page-info {
      display: flex;
      align-items: center;
      gap: 5px;
      font-family: 'Inconsolata';
      font-size: 13px;
    }

    .pdf-page-input {
      width: 40px;
      padding: 3px;
      text-align: center;
      font-family: 'Inconsolata';
      border: 1px solid #ccc;
      border-radius: 3px;
    }

    .image-viewer-wrapper.grabbing {
      cursor: grabbing;
    }

    .image-viewer-wrapper:hover {
      cursor: grab;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="title">Loop</div>
    
    <div class="location-label">Location</div>
    <div class="date-label">Date</div>
    <div class="tags-label">Tags</div>
    <div class="author-label">Author</div>
    <div class="tutor-label">Tutor</div>
    
    <div class="location">Gallaratese, Milan</div>
    <div class="date">2024.09-2025.01</div>
    <div class="tags1">Landscape / Planning Project,</div>
    <div class="tags2">Architectural Design Project</div>
    <div class="author">Yingyi Sun, Mai Cao</div>
    <div class="tutor1">Barbara Coppetti, Emma Garavaglia,</div>
    <div class="tutor2">Raffaella Cavallaro, Xu Zhou</div>
    
    <div class="line1"></div>
    <div class="line2"></div>
    <div class="line3"></div>
    <div class="line4"></div>
    <div class="line5"></div>
    <div class="line6"></div>
    <div class="line7"></div>
    
    <div class="description-chinese">
      这是我在米兰理工大学研一秋季学期建筑设计课（Architectural Design Studio）中的课程项目，目标是对Gallaratese区域内三所学校前的绿地进行规划与更新设计。整个项目共分为三个阶段：在前期阶段，我们对Gallaratese区域进行总体分析，包括基础的Mapping以及社会学层面的研究，并在1:1000的尺度上提出初步规划策略；中期阶段聚焦于1:500的尺度，我们对景观系统、路径组织、活动节点等内容进行了更为细致的设计；在后期阶段，我们进一步深化至1:200和1:100的尺度，设计一个具体的构筑物，回应场地功能与空间需求。最初，我们希望将场地与区域内的Monte Stella山体建立联系，并回应Bottoni在20世纪对该地区的原始规划，因此确立了一个基础的线性设计方向。在深入设计景观后，我们小组从康定斯基与蒙德里安的绘画中获得灵感，采用抽象几何的语言组织场地。我们围绕三所学校和地铁站布置了一个环形跑道，将场地中的多种元素聚集于此，形成一个社区的活动焦点。最终，在学校前的广场空间，我们设计了一个具有连续拱结构的线性亭子，为家长接送孩子、亲子互动提供了一个具有庇荫功能的共享空间。
    </div>
    
    <div class="description-english">
      This is a course project from my Architectural Design Studio in the fall semester of my first year at Politecnico di Milano. The objective was to replan and revitalize the green areas in front of three schools in the Gallaratese district. The project was developed in three main phases: In the first phase, we carried out a comprehensive analysis of the Gallaratese area, including basic mapping and sociological studies, followed by a planning proposal at the 1:1000 scale; During the second phase, we moved to the 1:500 scale to refine the landscape design, pedestrian circulation, and activity nodes; In the final phase, we focused on the 1:200/1:100 scale, designing an architectural intervention that responded to the functional and spatial needs of the site. Our initial concept aimed to create a spatial connection with Monte Stella, a local landmark, while also responding to Bottoni's original modernist planning of the area. This led to a linear spatial strategy. As the design developed, our team drew inspiration from the paintings of Kandinsky and Mondrian, applying abstract geometric principles to the landscape organization. A circular running track was introduced as a central feature around the schools and metro station, bringing together surrounding elements and forming a vibrant community focal point. Finally, in the square space in front of the schools, we designed a pavilion with a series of continuous arches. It serves as a shaded area for parents waiting for their children and a shared space for family-friendly interactions.
    </div>

    <!-- Image Viewer Section -->
    <div class="pdf-container">
      <div class="image-viewer-wrapper" id="image-viewer-wrapper">
        <img id="pdf-image" class="pdf-image" src="" alt="Project Image">
      </div>
      <div class="pdf-controls">
        <button id="prev-page">Previous</button>
        <span class="pdf-page-info">
          Image <input type="number" id="page-input" class="pdf-page-input" min="1" value="1"> 
          of <span id="page-count">9</span>
        </span>
        <button id="next-page">Next</button>
        <button id="zoom-in">Zoom In</button>
        <button id="zoom-out">Zoom Out</button>
        <button id="fit-page">Fit Page</button>
      </div>
    </div>
  </div>

  <script>
    // Image viewer variables
    const totalPages = 9; // Total number of images (a-11-1.jpg to a-11-9.jpg)
    let currentPage = 1;
    let scale = 1.0;
    let isDragging = false;
    let startPos = { x: 0, y: 0 };
    let currentTranslate = { x: 0, y: 0 };
    const maxScale = 3.0;
    const minScale = 0.5;
    
    const imageElement = document.getElementById('pdf-image');
    const wrapper = document.getElementById('image-viewer-wrapper');
    const pageCountElement = document.getElementById('page-count');
    const pageInput = document.getElementById('page-input');
    
    // Initialize the viewer
    function initViewer() {
      pageCountElement.textContent = totalPages;
      pageInput.max = totalPages;
      loadPage(1);
    }
    
    // Load a specific image
    function loadPage(pageNum) {
      if (pageNum < 1 || pageNum > totalPages) return;
      
      currentPage = pageNum;
      imageElement.src = `../assets/doc/a-11/a-11-${pageNum}.jpg`;
      pageInput.value = pageNum;
      
      // Reset zoom and position when changing pages
      scale = 1.0;
      currentTranslate = { x: 0, y: 0 };
      updateImageTransform();
    }
    
    // Update the image transform (scale + position)
    function updateImageTransform() {
      imageElement.style.transform = `translate(${currentTranslate.x}px, ${currentTranslate.y}px) scale(${scale})`;
    }
    
    // Fit the image to the container
    function fitToPage() {
      const containerWidth = wrapper.offsetWidth;
      const containerHeight = wrapper.offsetHeight;
      
      imageElement.onload = function() {
        const imgWidth = this.naturalWidth;
        const imgHeight = this.naturalHeight;
        
        const widthRatio = containerWidth / imgWidth;
        const heightRatio = containerHeight / imgHeight;
        
        scale = Math.min(widthRatio, heightRatio);
        currentTranslate = { x: 0, y: 0 };
        updateImageTransform();
      };
      
      // Reload the image to trigger onload if it's already loaded
      if (imageElement.complete) {
        imageElement.onload();
      }
    }
    
    // Zoom in
    function zoomIn() {
      if (scale >= maxScale) return;
      scale *= 1.2;
      updateImageTransform();
    }
    
    // Zoom out
    function zoomOut() {
      if (scale <= minScale) return;
      scale /= 1.2;
      updateImageTransform();
    }
    
    // Go to previous page
    function prevPage() {
      loadPage(currentPage - 1);
    }
    
    // Go to next page
    function nextPage() {
      loadPage(currentPage + 1);
    }
    
    // Handle page input change
    function handlePageInput() {
      let newPage = parseInt(pageInput.value);
      
      if (isNaN(newPage) || newPage < 1) {
        newPage = 1;
      } else if (newPage > totalPages) {
        newPage = totalPages;
      }
      
      pageInput.value = newPage;
      
      if (newPage !== currentPage) {
        loadPage(newPage);
      }
    }
    
    // Mouse wheel zoom
    function handleWheel(e) {
      e.preventDefault();
      
      // Get mouse position relative to image
      const rect = imageElement.getBoundingClientRect();
      const mouseX = e.clientX - rect.left;
      const mouseY = e.clientY - rect.top;
      
      // Calculate scale factor
      const delta = -e.deltaY;
      let scaleFactor = 1.1;
      if (delta < 0) {
        scaleFactor = 1 / scaleFactor;
      }
      
      // Calculate new scale with limits
      const newScale = scale * scaleFactor;
      if (newScale < minScale || newScale > maxScale) return;
      
      // Calculate mouse position in image coordinates
      const imgX = (mouseX - currentTranslate.x) / scale;
      const imgY = (mouseY - currentTranslate.y) / scale;
      
      // Apply new scale
      scale = newScale;
      
      // Calculate new translation to keep mouse position stable
      currentTranslate.x = mouseX - imgX * scale;
      currentTranslate.y = mouseY - imgY * scale;
      
      updateImageTransform();
    }
    
    // Dragging functionality
    function startDrag(e) {
      isDragging = true;
      startPos = {
        x: e.clientX - currentTranslate.x,
        y: e.clientY - currentTranslate.y
      };
      wrapper.style.cursor = 'grabbing';
      e.preventDefault();
    }
    
    function drag(e) {
      if (!isDragging) return;
      
      currentTranslate.x = e.clientX - startPos.x;
      currentTranslate.y = e.clientY - startPos.y;
      
      updateImageTransform();
    }
    
    function endDrag() {
      isDragging = false;
      wrapper.style.cursor = 'grab';
    }
    
    // Event listeners
    document.getElementById('prev-page').addEventListener('click', prevPage);
    document.getElementById('next-page').addEventListener('click', nextPage);
    document.getElementById('zoom-in').addEventListener('click', zoomIn);
    document.getElementById('zoom-out').addEventListener('click', zoomOut);
    document.getElementById('fit-page').addEventListener('click', fitToPage);
    pageInput.addEventListener('change', handlePageInput);
    
    // Mouse events for dragging
    wrapper.addEventListener('mousedown', startDrag);
    window.addEventListener('mousemove', drag);
    window.addEventListener('mouseup', endDrag);
    
    // Mouse wheel for zooming
    wrapper.addEventListener('wheel', handleWheel, { passive: false });
    
    // Initialize the viewer when the page loads
    window.addEventListener('load', initViewer);
  </script>
</body>
</html>
