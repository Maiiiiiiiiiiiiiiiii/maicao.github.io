<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Townscape</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inconsolata:wght@300;600&family=Nunito&display=swap');
        
        body {
            font-family: sans-serif;
            padding: 0;
            margin: 0;
            background: white;
        }
        
        .container {
            position: relative;
            width: 1024px;
            height: 768px;
            overflow-y: scroll;
            background: #FFFFFF;
            margin: 0 auto;
        }
        
        .title {
            position: absolute;
            width: 162px;
            height: 38px;
            left: 54px;
            top: 80px;
            font-family: 'Inconsolata';
            font-style: normal;
            font-weight: 600;
            font-size: 36px;
            line-height: 38px;
            color: #000000;
        }
        
        .location-label {
            position: absolute;
            width: 52px;
            height: 14px;
            left: 59px;
            top: 230px;
            font-family: 'Inconsolata';
            font-style: normal;
            font-weight: 600;
            font-size: 13px;
            line-height: 14px;
            color: #000000;
        }
        
        .date-label {
            position: absolute;
            width: 26px;
            height: 14px;
            left: 59px;
            top: 250px;
            font-family: 'Inconsolata';
            font-style: normal;
            font-weight: 600;
            font-size: 13px;
            line-height: 14px;
            color: #000000;
        }
        
        .tags-label {
            position: absolute;
            width: 26px;
            height: 14px;
            left: 59px;
            top: 309px;
            font-family: 'Inconsolata';
            font-style: normal;
            font-weight: 600;
            font-size: 13px;
            line-height: 14px;
            color: #000000;
        }
        
        .author-label {
            position: absolute;
            width: 39px;
            height: 14px;
            left: 59px;
            top: 269px;
            font-family: 'Inconsolata';
            font-style: normal;
            font-weight: 600;
            font-size: 13px;
            line-height: 14px;
            color: #000000;
        }
        
        .tutor-label {
            position: absolute;
            width: 33px;
            height: 14px;
            left: 59px;
            top: 289px;
            font-family: 'Inconsolata';
            font-style: normal;
            font-weight: 600;
            font-size: 13px;
            line-height: 14px;
            color: #000000;
        }
        
        .location-value {
            position: absolute;
            width: 13px;
            height: 14px;
            left: 341px;
            top: 230px;
            font-family: 'Inconsolata';
            font-style: normal;
            font-weight: 300;
            font-size: 13px;
            line-height: 14px;
            text-align: right;
            color: #000000;
        }
        
        .date-value {
            position: absolute;
            width: 98px;
            height: 14px;
            left: 256px;
            top: 250px;
            font-family: 'Inconsolata';
            font-style: normal;
            font-weight: 300;
            font-size: 13px;
            line-height: 14px;
            text-align: right;
            color: #000000;
        }
        
        .tag1-value {
            position: absolute;
            width: 202px;
            height: 14px;
            left: 152px;
            top: 309px;
            font-family: 'Inconsolata';
            font-style: normal;
            font-weight: 300;
            font-size: 13px;
            line-height: 14px;
            text-align: right;
            color: #000000;
        }
        
        .tag2-value {
            position: absolute;
            width: 52px;
            height: 14px;
            left: 302px;
            top: 329px;
            font-family: 'Inconsolata';
            font-style: normal;
            font-weight: 300;
            font-size: 13px;
            line-height: 14px;
            text-align: right;
            color: #000000;
        }
        
        .author-value {
            position: absolute;
            width: 221px;
            height: 14px;
            left: 133px;
            top: 269px;
            font-family: 'Inconsolata';
            font-style: normal;
            font-weight: 300;
            font-size: 13px;
            line-height: 14px;
            text-align: right;
            color: #000000;
        }
        
        .tutor-value {
            position: absolute;
            width: 208px;
            height: 14px;
            left: 146px;
            top: 289px;
            font-family: 'Inconsolata';
            font-style: normal;
            font-weight: 300;
            font-size: 13px;
            line-height: 14px;
            text-align: right;
            color: #000000;
        }
        
        .line1, .line2, .line3, .line4, .line5, .line6, .line7 {
            position: absolute;
            width: 300px;
            height: 0px;
            left: 54px;
            border: 0.5px solid #000000;
        }
        
        .line1 { top: 227px; }
        .line2 { top: 247px; }
        .line3 { top: 247px; }
        .line4 { top: 267px; }
        .line5 { top: 287px; }
        .line6 { top: 307px; }
        .line7 { top: 347px; }
        
        .description-chinese {
            position: absolute;
            width: 433px;
            height: 445px;
            left: 54px;
            top: 397px;
            font-family: 'Nunito';
            font-style: normal;
            font-weight: 400;
            font-size: 13px;
            line-height: 19px;
            text-align: justify;
            letter-spacing: 0.05em;
            color: #000000;
        }
        
        .description-english {
            position: absolute;
            width: 433px;
            height: 449px;
            left: 537px;
            top: 397px;
            font-family: 'Nunito';
            font-style: normal;
            font-weight: 400;
            font-size: 13px;
            line-height: 18px;
            text-align: justify;
            color: #000000;
        }

        /* Image Viewer Styles */
        .pdf-container {
            position: absolute;
            width: 916px;
            height: 648px;
            left: 50%;
            transform: translateX(-50%);
            top: 900px;
            border: 1px solid #ccc;
            overflow: hidden;
            margin-bottom: 100px;
        }

        .image-viewer-wrapper {
            position: relative;
            width: 100%;
            height: 100%;
            overflow: auto;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .pdf-image {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            transition: transform 0.1s ease;
            transform-origin: center center;
        }

        .pdf-controls {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            z-index: 10;
            background: rgba(255, 255, 255, 0.9);
            padding: 8px 15px;
            border-radius: 5px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .pdf-controls button {
            padding: 5px 10px;
            cursor: pointer;
            background: #f0f0f0;
            border: 1px solid #ccc;
            border-radius: 3px;
            font-family: 'Inconsolata';
            font-size: 12px;
        }

        .pdf-controls button:hover {
            background: #e0e0e0;
        }

        .pdf-page-info {
            display: flex;
            align-items: center;
            gap: 5px;
            font-family: 'Inconsolata';
            font-size: 13px;
        }

        .pdf-page-input {
            width: 40px;
            padding: 3px;
            text-align: center;
            font-family: 'Inconsolata';
            border: 1px solid #ccc;
            border-radius: 3px;
        }

        .image-viewer-wrapper.grabbing {
            cursor: grabbing;
        }

        .image-viewer-wrapper:hover {
            cursor: grab;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="title">Townscape</div>
        
        <div class="location-label">Location</div>
        <div class="date-label">Date</div>
        <div class="tags-label">Tags</div>
        <div class="author-label">Author</div>
        <div class="tutor-label">Tutor</div>
        
        <div class="location-value">UK</div>
        <div class="date-value">2025.03-2025.06</div>
        <div class="tag1-value">Architectural Theory, Townscape</div>
        <div class="tag2-value">Post-war</div>
        
        <div class="author-value">Mai Cao,Diana Peterlini, Weiwei Ma</div>
        <div class="tutor-value">Gaia Caramellino, Valeria Casali</div>
        
        <div class="line1"></div>
        <div class="line2"></div>
        <div class="line3"></div>
        <div class="line4"></div>
        <div class="line5"></div>
        <div class="line6"></div>
        <div class="line7"></div>
        
        <div class="description-chinese">
            本文探讨了《建筑评论》（The Architectural Review）在1945至1955年间，作为推动者与反映者，在英国战后建筑话语中的双重角色。第一部分梳理了这一时期的历史与建筑背景，以及该杂志如何回应重建的紧迫性与对建成环境观念的转变。通过对其编辑风格、撰稿人群、读者群体以及图像表达的梳理，本文将该杂志定位为一个超越专业圈层、引领建筑思潮的文化平台。 文章的第二部分也是核心部分，是对"城市景观"（Townscape）理念的主题性解读。该概念在《建筑评论》杂志中逐步发展，旨在回应对正统现代主义的种种质疑。与其将Townscape视为一套固定理论，本文更将其重构为一种建立于感知、连续性与人类经验基础之上的视觉与空间方法。通过对若干文章、案例与类型的分析，研究指出Townscape为城市提供了一种替代性的构想：碎片化但统一，主观却可共享。 Townscape 表达了一种融合视觉素养与城市批评的新型建筑思维模式。借助《建筑评论》的视角，文章展现了这一方法如何将城市重新定义为一系列富有意义的遭遇序列，在战后寻求认同感的景观中，突出"感知""语境"与"叙事"作为重要的设计工具。
        </div>
        
        <div class="description-english">
            This essay examines The Architectural Review's role both as instigator and reflection of British post-war architectural argument between 1945 and 1955. The first section outlines the historical and architectural background of the period, and how the magazine reflected the urgency of reconstruction and shifting notions of the built environment. Through an overview of its editorial style, contributors, readership, and graphic identity, the study positions the magazine as a cultural platform that shaped architectural thought outside professional circles. The second and central part of the essay is a thematic reading of the Townscape idea, developed within the pages of The Architectural Review as a response to the perceived failures of orthodox modernism. Rather than treating Townscape as a fixed theory, the essay reconstructs it as a visual and spatial method rooted in perception, continuity, and human experience. Through the analysis of selected articles, examples, and typologies the research highlights how Townscape offered an alternative vision for the city: one that was fragmentary yet coherent, subjective yet sharable. Townscape articulated a new mode of architectural thinking, one that merged visual literacy with urban critique. Through the lens of The Architectural Review, the essay shows how this approach reframed the city as a sequence of meaningful encounters, foregrounding perception, context, and narrative as design tools in a post-war landscape in search of identity.
        </div>

        <!-- Image Viewer Section -->
        <div class="pdf-container">
            <div class="image-viewer-wrapper" id="image-viewer-wrapper">
                <img id="pdf-image" class="pdf-image" src="" alt="PDF Page">
            </div>
            <div class="pdf-controls">
                <button id="prev-page">Previous</button>
                <span class="pdf-page-info">
                    Page <input type="number" id="page-input" class="pdf-page-input" min="1" value="1"> 
                    of <span id="page-count">44</span>
                </span>
                <button id="next-page">Next</button>
                <button id="zoom-in">Zoom In</button>
                <button id="zoom-out">Zoom Out</button>
                <button id="fit-page">Fit Page</button>
            </div>
        </div>
    </div>

    <script>
        // Image viewer variables
        const totalPages = 44; // Total number of pages/images
        let currentPage = 1;
        let scale = 1.0;
        let isDragging = false;
        let startPos = { x: 0, y: 0 };
        let currentTranslate = { x: 0, y: 0 };
        const maxScale = 3.0;
        const minScale = 0.5;
        
        const imageElement = document.getElementById('pdf-image');
        const wrapper = document.getElementById('image-viewer-wrapper');
        const pageCountElement = document.getElementById('page-count');
        const pageInput = document.getElementById('page-input');
        
        // Initialize the viewer
        function initViewer() {
            pageCountElement.textContent = totalPages;
            pageInput.max = totalPages;
            loadPage(1);
        }
        
        // Load a specific page
        function loadPage(pageNum) {
            if (pageNum < 1 || pageNum > totalPages) return;
            
            currentPage = pageNum;
            const pageStr = pageNum.toString().padStart(2, '0');
            imageElement.src = `../assets/doc/a-14/a-14_Page_${pageStr}.jpg`;
            pageInput.value = pageNum;
            
            // Reset zoom and position when changing pages
            scale = 1.0;
            currentTranslate = { x: 0, y: 0 };
            updateImageTransform();
        }
        
        // Update the image transform (scale + position)
        function updateImageTransform() {
            imageElement.style.transform = `translate(${currentTranslate.x}px, ${currentTranslate.y}px) scale(${scale})`;
        }
        
        // Fit the image to the container
        function fitToPage() {
            const containerWidth = wrapper.offsetWidth;
            const containerHeight = wrapper.offsetHeight;
            
            imageElement.onload = function() {
                const imgWidth = this.naturalWidth;
                const imgHeight = this.naturalHeight;
                
                const widthRatio = containerWidth / imgWidth;
                const heightRatio = containerHeight / imgHeight;
                
                scale = Math.min(widthRatio, heightRatio);
                currentTranslate = { x: 0, y: 0 };
                updateImageTransform();
            };
            
            // Reload the image to trigger onload if it's already loaded
            if (imageElement.complete) {
                imageElement.onload();
            }
        }
        
        // Zoom in
        function zoomIn() {
            if (scale >= maxScale) return;
            scale *= 1.2;
            updateImageTransform();
        }
        
        // Zoom out
        function zoomOut() {
            if (scale <= minScale) return;
            scale /= 1.2;
            updateImageTransform();
        }
        
        // Go to previous page
        function prevPage() {
            loadPage(currentPage - 1);
        }
        
        // Go to next page
        function nextPage() {
            loadPage(currentPage + 1);
        }
        
        // Handle page input change
        function handlePageInput() {
            let newPage = parseInt(pageInput.value);
            
            if (isNaN(newPage) || newPage < 1) {
                newPage = 1;
            } else if (newPage > totalPages) {
                newPage = totalPages;
            }
            
            pageInput.value = newPage;
            
            if (newPage !== currentPage) {
                loadPage(newPage);
            }
        }
        
        // Mouse wheel zoom
        function handleWheel(e) {
            e.preventDefault();
            
            // Get mouse position relative to image
            const rect = imageElement.getBoundingClientRect();
            const mouseX = e.clientX - rect.left;
            const mouseY = e.clientY - rect.top;
            
            // Calculate scale factor
            const delta = -e.deltaY;
            let scaleFactor = 1.1;
            if (delta < 0) {
                scaleFactor = 1 / scaleFactor;
            }
            
            // Calculate new scale with limits
            const newScale = scale * scaleFactor;
            if (newScale < minScale || newScale > maxScale) return;
            
            // Calculate mouse position in image coordinates
            const imgX = (mouseX - currentTranslate.x) / scale;
            const imgY = (mouseY - currentTranslate.y) / scale;
            
            // Apply new scale
            scale = newScale;
            
            // Calculate new translation to keep mouse position stable
            currentTranslate.x = mouseX - imgX * scale;
            currentTranslate.y = mouseY - imgY * scale;
            
            updateImageTransform();
        }
        
        // Dragging functionality
        function startDrag(e) {
            isDragging = true;
            startPos = {
                x: e.clientX - currentTranslate.x,
                y: e.clientY - currentTranslate.y
            };
            wrapper.style.cursor = 'grabbing';
            e.preventDefault();
        }
        
        function drag(e) {
            if (!isDragging) return;
            
            currentTranslate.x = e.clientX - startPos.x;
            currentTranslate.y = e.clientY - startPos.y;
            
            updateImageTransform();
        }
        
        function endDrag() {
            isDragging = false;
            wrapper.style.cursor = 'grab';
        }
        
        // Event listeners
        document.getElementById('prev-page').addEventListener('click', prevPage);
        document.getElementById('next-page').addEventListener('click', nextPage);
        document.getElementById('zoom-in').addEventListener('click', zoomIn);
        document.getElementById('zoom-out').addEventListener('click', zoomOut);
        document.getElementById('fit-page').addEventListener('click', fitToPage);
        pageInput.addEventListener('change', handlePageInput);
        
        // Mouse events for dragging
        wrapper.addEventListener('mousedown', startDrag);
        window.addEventListener('mousemove', drag);
        window.addEventListener('mouseup', endDrag);
        
        // Mouse wheel for zooming
        wrapper.addEventListener('wheel', handleWheel, { passive: false });
        
        // Initialize the viewer when the page loads
        window.addEventListener('load', initViewer);
    </script>
</body>
</html>
